// 全局主题变量
:root {
  // 亮色主题
  --bg-primary: #ffffff;
  --bg-secondary: #f8fafc;
  --bg-tertiary: #f1f5f9;
  --text-primary: #1f2937;
  --text-secondary: #6b7280;
  --text-tertiary: #9ca3af;
  --border-color: #e5e7eb;
  --shadow-light: rgba(0, 0, 0, 0.1);
  --shadow-medium: rgba(0, 0, 0, 0.15);
  --shadow-heavy: rgba(0, 0, 0, 0.25);
  
  // 品牌色
  --primary-color: #3b82f6;
  --primary-hover: #2563eb;
  --primary-light: #dbeafe;
  
  // 状态色
  --success-color: #10b981;
  --warning-color: #f59e0b;
  --error-color: #ef4444;
  --info-color: #06b6d4;
}

// 暗色主题
:root.dark-mode,
[data-theme="dark"] {
  --bg-primary: #1f2937;
  --bg-secondary: #111827;
  --bg-tertiary: #0f172a;
  --text-primary: #f9fafb;
  --text-secondary: #d1d5db;
  --text-tertiary: #9ca3af;
  --border-color: #374151;
  --shadow-light: rgba(0, 0, 0, 0.3);
  --shadow-medium: rgba(0, 0, 0, 0.4);
  --shadow-heavy: rgba(0, 0, 0, 0.6);
  
  // 品牌色在暗色主题下的调整
  --primary-color: #60a5fa;
  --primary-hover: #3b82f6;
  --primary-light: #1e3a8a;
}

// 全局暗色模式样式
.dark-mode {
  // 页面背景调暗
  &.login-container,
  &.home-container,
  &.display-container {
    filter: brightness(0.4);
    
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      pointer-events: none;
      z-index: 1;
    }
  }
  
  // 确保内容在遮罩之上
  .form-control,
  .main-content,
  .placeholder {
    position: relative;
    z-index: 10;
  }
}

// 通用组件暗色主题
.theme-card {
  background: var(--bg-primary);
  color: var(--text-primary);
  border: 1px solid var(--border-color);
  box-shadow: 0 4px 16px var(--shadow-light);
  transition: all 0.3s ease;
  
  &:hover {
    box-shadow: 0 8px 24px var(--shadow-medium);
  }
}

.theme-button {
  background: var(--primary-color);
  color: white;
  border: none;
  transition: all 0.3s ease;
  
  &:hover {
    background: var(--primary-hover);
  }
  
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
}

.theme-input {
  background: var(--bg-primary);
  color: var(--text-primary);
  border: 1px solid var(--border-color);
  transition: all 0.3s ease;
  
  &:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px var(--primary-light);
  }
  
  &::placeholder {
    color: var(--text-tertiary);
  }
}

// Element Plus 组件暗色主题覆盖
.dark-mode {
  // 表格
  .el-table {
    background-color: var(--bg-primary);
    color: var(--text-primary);
    
    .el-table__header {
      background-color: var(--bg-secondary);
    }
    
    .el-table__row {
      background-color: var(--bg-primary);
      
      &:hover {
        background-color: var(--bg-tertiary);
      }
    }
  }
  
  // 卡片
  .el-card {
    background-color: var(--bg-primary);
    border-color: var(--border-color);
    color: var(--text-primary);
  }
  
  // 输入框
  .el-input__wrapper {
    background-color: var(--bg-primary);
    border-color: var(--border-color);
    color: var(--text-primary);
    
    &:hover {
      border-color: var(--primary-color);
    }
    
    &.is-focus {
      border-color: var(--primary-color);
      box-shadow: 0 0 0 1px var(--primary-color);
    }
  }
  
  .el-input__inner {
    color: var(--text-primary);
    
    &::placeholder {
      color: var(--text-tertiary);
    }
  }
  
  // 按钮
  .el-button {
    &--primary {
      background-color: var(--primary-color);
      border-color: var(--primary-color);
      
      &:hover {
        background-color: var(--primary-hover);
        border-color: var(--primary-hover);
      }
    }
    
    &--default {
      background-color: var(--bg-primary);
      border-color: var(--border-color);
      color: var(--text-primary);
      
      &:hover {
        border-color: var(--primary-color);
        color: var(--primary-color);
      }
    }
  }
  
  // 下拉菜单
  .el-select-dropdown {
    background-color: var(--bg-primary);
    border-color: var(--border-color);
  }
  
  .el-select-dropdown__item {
    color: var(--text-primary);
    
    &:hover {
      background-color: var(--bg-tertiary);
    }
    
    &.selected {
      background-color: var(--primary-light);
      color: var(--primary-color);
    }
  }
  
  // 消息提示
  .el-message {
    background-color: var(--bg-primary);
    border-color: var(--border-color);
    color: var(--text-primary);
  }
  
  // 对话框
  .el-dialog {
    background-color: var(--bg-primary);
    color: var(--text-primary);
  }
  
  .el-dialog__header {
    border-bottom-color: var(--border-color);
  }
  
  .el-dialog__title {
    color: var(--text-primary);
  }
}

// 平滑过渡动画
* {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}